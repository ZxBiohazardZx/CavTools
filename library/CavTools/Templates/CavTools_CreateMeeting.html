<xen:require css="CavTools_CreateMeeting.css" />
<xen:require js="js/CavTools/meetingCreate.js" />
<div class="section">
    <h1 class="heading">Meeting Generator</h1>
    <br />
    <br />
    <form action="{xen:link createmeeting/post}" method="post" class="xenForm AutoValidator" data-redirect="on">

        <dl class="ctrlUnit fullWidth">
            <dd>
                <SELECT id="list" class="textCtrl" onchange="javascript:meetingOption();" name="selection">
                    <OPTION VALUE="A">Create using Templates</option>
                    <OPTION VALUE="B">Create now</option>
                </SELECT>
            </dd>
        </dl>

        <div id="createUsingTemplate" style="display:block">
            <dl class="ctrlUnit fullWidth">
                <dd>
                    <SELECT class="textCtrl" name="templates">
                        <xen:foreach loop="$templates" value="$template">
                            <option value="{xen:raw $template.meeting_template_id}">{xen:raw $template.meeting_title}
                                - via {xen:raw $template.creator_rank} {xen:raw $template.creator_username}</option>
                        </xen:foreach>
                    </SELECT>
                </dd>
            </dl>
        </div>

        <div id="createMeeting" style="display:none">
            <dl class="ctrlUnit fullWidth surplusLabel">
                <dd><input type="text" name="meeting_title" class="textCtrl titleCtrl" id="ctrl_title_thread_create" maxlength="100" autofocus="true"
                    placeholder="Meeting title..."</dd>
            </dl>

            <dl class="ctrlUnit fullWidth">
                <dt></dt>
                <dd>{xen:raw $editorTemplate}</dd>
            </dl>
            <dl class="ctrlUnit">
                <dt><label for="ctrl_positions">Milpac Positions:</label></dt>
                <dd>
                    <ul>
                        <li><select name="positions[]" id="ctrl_secondary_position_ids" size="7" multiple="multiple" class="textCtrl" style="min-width: 300px;">
                            <xen:foreach loop="$positions" value="$position">
                                <option value="{$position.position_id}">{$position.position_title}</option>
                            </xen:foreach>
                        </select></li>
                    </ul>
                </dd>
            </dl>
        </div>

        <dl class="ctrlUnit fullWidth">
            <dt><label for="ctrl_message">Meeting date</label></dt>
            <dd>
                <input id="ctrl_message" type="date" class="textCtrl autoSize" name="meeting_date"/>
            </dd>
        </dl>
        <dl class="ctrlUnit fullWidth">
            <dt><label for="ctrl_message">Event time (in zulu)</label></dt>
            <dd><select name="meeting_time" class="textCtrl" required>
                <xen:foreach loop="$timeOptions" value="$timeOption">
                    <option value="{xen:raw $timeOption}">{xen:raw $timeOption}</option>
                </xen:foreach>
            </select></dd>
        </dl>

        <dl class="ctrlUnit submitUnit">
            <dt></dt>
            <dd><input type="submit" value="Submit Application" class="button primary" accesskey="s" /></dd>
        </dl>
    </form>
</div>
